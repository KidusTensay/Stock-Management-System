<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dispatch Stock</title>
    <body>
    <script>
    function handleFormSubmission() {
        var jacketsQuantity = document.getElementById("J_quantity").value || 0;
            var shirtsQuantity = document.getElementById("S_quantity").value || 0;
            var pantsQuantity = document.getElementById("pantquantity").value || 0;
            var sockQuantity = document.getElementById("sockquantity").value || 0;

            // Retrieve current dispatched quantities
            var djacketsQuantity = localStorage.getItem("dJquantity") || 0;
            var dshirtsQuantity = localStorage.getItem("dSquantity") || 0;
            var dpantsQuantity = localStorage.getItem("dPquantity") || 0;
            var dsockQuantity = localStorage.getItem("dSPquantity") || 0;

            // Calculate new dispatched quantities
            var newDJacketsQuantity = parseInt(djacketsQuantity) + parseInt(jacketsQuantity);
            var newDShirtsQuantity = parseInt(dshirtsQuantity) + parseInt(shirtsQuantity);
            var newDPantsQuantity = parseInt(dpantsQuantity) + parseInt(pantsQuantity);
            var newDSockQuantity = parseInt(dsockQuantity) + parseInt(sockQuantity);

            // Update dispatched quantities in local storage
            localStorage.setItem("dJquantity", jacketsQuantity);
            localStorage.setItem("dSquantity", shirtsQuantity);
            localStorage.setItem("dPquantity", pantsQuantity);
            localStorage.setItem("dSPquantity", sockQuantity);

            // Redirect to the next page or perform other actions as needed
            // window.location.href = "nextpage.html";

            // Prevent the form from actually submitting to the server
            return false;

    }
</script>

    <style>
        body {
            text-align: center;
        }

        #main {
            border: 0px solid black;
            padding: 10px;
            width: 1390px;
            height: 100px;
            display: inline-block;
            text-align: center;
            background-color: #3498db;
            align-items: center;
            justify-content: center;
        }
        </style>
</head>

<h2 id="main">Dispatch Stock</h2>
<form action="stock-entry" method="post">
    <table>
        <tr>
            <td>
                <img src="jacket.webp" alt="Jackets Stock" height="200">
                <label>Item Name: Jackets</label>

                <label for="J_quantity">Quantity:</label>
                <input type="number" id="J_quantity" name="J_quantity" required>
            </td>
        </tr>

        <tr>
            <td>
                <img src="shirt3.jpeg" alt="Shirt Stock" height="200">
                <label>Item Name: Shirt</label>

                <label for="S_quantity">Quantity:</label>
                <input type="number" id="S_quantity" name="S_quantity" required>
            </td>
        </tr>
        <tr>
            <td>
                <img src="pants.jpeg" alt="Pants Stock" height="200">
                <label>Item Name: Pants</label>

                <label for="pantquantity">Quantity:</label>
                <input type="number" id="pantquantity" name="quantity" required>
            </td>
        </tr>
        <tr>
            <td>
                <img src="socks.jpeg" alt="Socks Stocks" height="200">
                <label>Item Name: Sock Pairs</label>

                <label for="sockquantity">Quantity:</label>
                <input type="number" id="sockquantity" name="quantity" required>
            </td>
        </tr>

    </table>
</form>
<table>
    <tr>
        <td>
            <button type="button" onclick="handleFormSubmission()">Submit</button>
        </td>
        <td>
            <form action="viewstock.html" method="post">
                <button type="submit">View Stock</button>
            </form>
        </td>
    </tr>
</table>
</body>
</html>